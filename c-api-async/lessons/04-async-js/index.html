<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async</title>
</head>

<body>
    <h1>Async</h1>
    <script>
        // Lesson 4 Asynchronous JavaScript

        // In this exercise you will essentially write the 
        // function that was provided for you in the last exercise 
        // of Lesson 3, so it's there somewhere in your brain...you got this!

        // L4- Set 1 
        // 1) In the file getPost.js (located in the website directory of 
        // this project), write an async function to make a POST request 
        // that has two arguments: a url to make the POST to, and a JavaScript 
        // object holding the data to post.

        const getPost = async (url = '', data = {}) => {

            const response = await fetch(url, {
                method: 'POST',
                credentials: 'same-origin',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            });

            try {
                const newData = await response.json();
                return newData
            } catch (error) {
                console.log("error", error);
            }
        }

        // getPost('/addMovie', {
        //     movie: ' the matrix',
        //     score: 5
        // })
    </script>
</body>

</html>